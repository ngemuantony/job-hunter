{% extends 'base.html' %}

{% block title %}
    Register page
{% endblock %}

{% block content %}
<body class="text-center">
<div class="container">
    <h1>Create an account</h1>

    <!-- Flash messages displayed inside the form -->
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div class="alert alert-dismissible">
                {% for message in messages %}
                    <div class="alert alert-{{ message[1] }}" role="alert">
                        {{ message[0] }}
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <form method="POST" class="form-register" style="color:white">
        {{ form.hidden_tag() }} <!--Protects against Cross Site Request Forgery (CSRF)-->

        {{ form.username.label }}
        {{ form.username(class="form-control", placeholder="User Name") }}

        {{ form.email_address.label }}
        {{ form.email_address(class="form-control", placeholder="Email Address") }}

        {{ form.password1.label }}
        {{ form.password1(class="form-control", placeholder="Enter Password") }}

        {{ form.password2.label }}
        {{ form.password2(class="form-control", placeholder="Confirm Password") }}
        <br>
        <div class="checkbox mb-3">
            <h6>Already have an account</h6>
            <a href="{{ url_for('login_page') }}" class="btn btn-sm btn-secondary">Login</a>
        </div>
        {{ form.submit(class="btn btn-lg btn-block btn-primary", value="submit") }}
    </form>
</div>
</body>
{% endblock %}
